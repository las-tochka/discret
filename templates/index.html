<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Минимальные внешне устойчивые множества</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
<style>
    table.no-borders td {
        border: none !important;
        padding: 4px;
    }

    input[type="number"] {
        width: 50px;
        height: 50px;
        font-size: 18px;
        text-align: center;
    }

    #matrixContainer {
        overflow-x: auto;
        max-width: 100%;
    }

    table {
        margin: auto;
    }
</style>

</head>
<body class="container mt-5">
    <h2>Поиск минимальных внешне устойчивых подмножеств</h2>
    <form method="post" id="graphForm">
        <div class="mb-3">
            <label for="size" class="form-label">Размер матрицы (n):</label>
            <input type="number" class="form-control" name="size" id="size" min="1" required value="{{ size if size }}" style="width: 120px; font-size: 18px;">

        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">Матрица смежности:</label>
                <div id="matrixContainer" class="mb-2"></div>
            </div>
            <div class="col-md-6">
                {% if image_data %}
                <label class="form-label">Ориентированный граф:</label>
                <img src="data:image/png;base64,{{ image_data }}" alt="Graph" class="border" style="max-width: 100%; width: 300px;">

                {% endif %}
            </div>
        </div>

        <textarea name="matrix" id="matrixData" hidden>{{ matrix_data }}</textarea>
        <button type="submit" class="btn btn-primary">Найти</button>
    </form>

    {% if result %}
    <div class="mt-4" id="resultBlock">
        <h4>Минимальные внешне устойчивые множества ({{ result | length }}):</h4>
        <ul>
        {% for entry in result %}
            <li>{{ entry }}</li>
        {% endfor %}
        </ul>
    </div>
    {% endif %}
</body>
</html>
